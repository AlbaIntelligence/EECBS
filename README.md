# EECBS
 A bounded-suboptimal solver for Multi-Agent Path Finding

This version assumes that 
(1) each agent is given a set of target locations and it needs to visit one of them; and 
(2) agents disappear after they reach their target locations.

Explicit Estimation Conflict-Based Search (EECBS) is an effifent bounded-suboptimal algorithm for solving Multi-Agent Path Finding (MAPF). 
EECBS is 2-level search algorithm based on the popular optimal MAPF algorithm CBS. 
It speeds up CBS by using Explicit Estimation Search (EES) on its high level and focal search on its low level. 
It also incorporates with many CBS improvements, including 
bypassing conflicts, prioritizing conflicts, high-level heuristics, and symmetry reasoning.
More details can be found in our paper at AAAI 2021 [1].

The code requires the external library BOOST (https://www.boost.org/). After you installed BOOST and downloaded the source code, go into the directory of the source code and compile it with CMake: 
```
cmake .
make
```

Then, you are able to run the code:
```
./eecbs -m random-32-32-20.map -a agents200.txt -o test.csv --outputPaths=paths.txt -k 50 -t 60 --suboptimality=1.2 
```

- m: the map file from the MAPF benchmark
- a: the agent file that contains the information of start and target locations
- o: the output file that contains the search statistics
- outputPaths: the output file that contains the paths 
- k: the number of agents
- t: the runtime limit
- suboptimality: the suboptimality factor w

You can find more details and explanations for all parameters with:
```
./eecbs --help
```

## Test instances
We provide an example instance:
- The map file random-32-32-20.map is from the MAPF benchmark (https://movingai.com/benchmarks/mapf/index.html), and 
you can find more maps there.
- The agent file agents200.txt is generated by the software randomly. 
The first line in the file contains the number of agents. 
Each remaining line represents the start and target locations for one agent.
For a given such line, the first two numbers are the row id and column id of the start location of an agent, 
and the (2k+1)-th and (2k+2) numbers are the row id and column id of its  k-th target location (k > 0). 

If the input map or agent files does not exist, the software will automatically generate random instances and 
write them to the given file names.

## License
EECBS is released under USC â€“ Research License. See license.md for further details.
 
## References
[1] Jiaoyang Li, Wheeler Ruml and Sven Koenig.
EECBS: Bounded-Suboptimal Search for Multi-Agent Path Finding.
In Proceedings of the AAAI Conference on Artificial Intelligence (AAAI), (in print), 2021.

